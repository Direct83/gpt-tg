# Базовый образ с Node.js
FROM node:16-alpine

# Установка рабочего каталога
WORKDIR /app

# Копирование package.json и package-lock.json (если есть) в рабочий каталог
COPY package*.json ./

# Установка зависимостей
RUN npm ci

# Копирование остальных файлов проекта в рабочий каталог
COPY . .

# Установка переменной окружения для определения номера порта
ENV PORT=3000

# Объявление порта
EXPOSE $PORT

# Запуск приложения
CMD ['npm', 'start']
